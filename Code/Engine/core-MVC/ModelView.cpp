#include "core-MVC\ModelView.h"
#include "core-MVC\Model.h"


///////////////////////////////////////////////////////////////////////////////

ModelView::ModelView()
: m_model(NULL)
{
}

///////////////////////////////////////////////////////////////////////////////

ModelView::~ModelView()
{
   if (m_model != NULL)
   {
      m_model->detach(*this);
   }
}

///////////////////////////////////////////////////////////////////////////////

void ModelView::onAttachedToModel(Model& model)
{
   if (m_model != NULL)
   {
      m_model->detach(*this);
      resetContents();
   }
   m_model = &model;
}

///////////////////////////////////////////////////////////////////////////////

void ModelView::onDetachedFromModel()
{
   m_model = NULL;
   resetContents();
}

///////////////////////////////////////////////////////////////////////////////

bool ModelView::isAttachedToModel() const
{
   return (m_model != NULL);
}

///////////////////////////////////////////////////////////////////////////////
