/// @file   core/CollisionTests.h
/// @brief  library of basic volumes collision tests
#pragma once

#include "core\FastFloat.h"


///////////////////////////////////////////////////////////////////////////////

struct Vector;
struct AABoundingBox;
struct Ray;
struct BoundingSphere;
struct Frustum;
struct Triangle;
struct Plane;
struct PointVolume;

///////////////////////////////////////////////////////////////////////////////

bool testCollision(const AABoundingBox& aabb, const Vector& point);

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const AABoundingBox& aabb1, const AABoundingBox& aabb2 );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const AABoundingBox& aabb, const Ray& ray );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const AABoundingBox& aabb, const BoundingSphere& sphere );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const AABoundingBox& aabb, const Frustum& frustum );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const Frustum& frustum, const BoundingSphere& sphere );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const Frustum& frustum, const PointVolume& point );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const Ray& ray, const Plane& plane, Vector& intersectionPt );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const BoundingSphere& sphere, const Vector& point );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const BoundingSphere& sphere, const Ray& ray );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const BoundingSphere& sphere, const BoundingSphere& rhs );

///////////////////////////////////////////////////////////////////////////////

bool testCollision( const Ray& ray, const Triangle& triangle );

///////////////////////////////////////////////////////////////////////////////

Vector findIntersectionRemovalVector( const BoundingSphere& sphere, const BoundingSphere& colidor );

///////////////////////////////////////////////////////////////////////////////

Vector findIntersectionRemovalVector( const AABoundingBox& aabb, const AABoundingBox& colidor );

///////////////////////////////////////////////////////////////////////////////

const FastFloat rayToPlaneDistance( const Ray& ray, const Plane& plane );

///////////////////////////////////////////////////////////////////////////////

const FastFloat rayToPointDistance( const Ray& ray, const Vector& point );

///////////////////////////////////////////////////////////////////////////////

const FastFloat rayToAABBDistance( const Ray& ray, const AABoundingBox& aabb );

///////////////////////////////////////////////////////////////////////////////

const FastFloat rayToBSDistance( const Ray& ray, const BoundingSphere& bs );

///////////////////////////////////////////////////////////////////////////////
