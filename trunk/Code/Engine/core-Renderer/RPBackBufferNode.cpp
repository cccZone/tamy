#include "core-Renderer/RPBackBufferNode.h"
#include "core-Renderer/RenderingPipelineMechanism.h"
#include "core-Renderer/Renderer.h"


///////////////////////////////////////////////////////////////////////////////

BEGIN_OBJECT( RPBackBufferNode, RenderingPipelineNode )
END_OBJECT()

///////////////////////////////////////////////////////////////////////////////

RPBackBufferNode::RPBackBufferNode()
   : m_renderer( NULL )
{
}

///////////////////////////////////////////////////////////////////////////////

RPBackBufferNode::~RPBackBufferNode()
{
   m_renderer = NULL;
}

///////////////////////////////////////////////////////////////////////////////

void RPBackBufferNode::initialize( RenderingPipelineMechanism& host )
{
   m_renderer = &host.getRenderer();
}

///////////////////////////////////////////////////////////////////////////////

void RPBackBufferNode::deinitialize( RenderingPipelineMechanism& host )
{
   m_renderer = NULL;
}

///////////////////////////////////////////////////////////////////////////////

void RPBackBufferNode::update( RenderingPipelineMechanism& host )
{
   if ( m_renderer )
   {
      m_renderer->setRenderTarget( NULL );
   }
}

///////////////////////////////////////////////////////////////////////////////
