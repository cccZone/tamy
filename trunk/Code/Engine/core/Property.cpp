#include "core\Property.h"


///////////////////////////////////////////////////////////////////////////////

Property::Property()
: m_observer(NULL)
, m_name( "" )
, m_label( "" )
, m_canBeEdited( false )
, m_canBeSaved( true )
{
}

///////////////////////////////////////////////////////////////////////////////

void Property::setObserver(PropertyObserver& observer)
{
   m_observer = &observer;
}

///////////////////////////////////////////////////////////////////////////////

PropertyObserver& Property::getObserver()
{
   return *m_observer;
}

///////////////////////////////////////////////////////////////////////////////

void Property::notifyBeforeChange()
{
   if ( m_observer )
   {
      m_observer->onPrePropertyChanged( *this );
   }
}

///////////////////////////////////////////////////////////////////////////////

void Property::notifyAfterChange()
{
   if ( m_observer )
   {
      m_observer->onPropertyChanged( *this );
   }
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

Class VectorProperty::s_class;
VectorProperty::RTTITypeInit VectorProperty::s_typeRegistrationTool;

///////////////////////////////////////////////////////////////////////////////

VectorProperty::RTTITypeInit::RTTITypeInit()
{
   s_class = Class( getClassesRegistry().defineClass< VectorProperty >() );
}

///////////////////////////////////////////////////////////////////////////////

Class VectorProperty::getVirtualClass() const
{
   return s_class;
}

///////////////////////////////////////////////////////////////////////////////

Class VectorProperty::getPropertyClass() const
{
   return s_class;
}

///////////////////////////////////////////////////////////////////////////////

Class VectorProperty::getRTTIClass()
{
   return s_class;
}

///////////////////////////////////////////////////////////////////////////////
