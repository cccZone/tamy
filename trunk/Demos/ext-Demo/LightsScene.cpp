#include "ext-Demo\LightsScene.h"
#include "core\PointVolume.h"
#include "core\Node.h"
#include "core-Renderer\Light.h"


using namespace demo;

///////////////////////////////////////////////////////////////////////////////

LightsScene::LightsScene()
: m_root(new Node("root"))
{
}

///////////////////////////////////////////////////////////////////////////////

LightsScene::~LightsScene() 
{
   delete m_root;
}

///////////////////////////////////////////////////////////////////////////////

void LightsScene::insert(Light* light)
{
   m_root->addChild(light);
   m_storage.insert(*light);
}

///////////////////////////////////////////////////////////////////////////////

void LightsScene::query(const D3DXVECTOR3& point, Array<Light*>& outLights)
{
   m_storage.query(PointVolume(point), outLights);
}

///////////////////////////////////////////////////////////////////////////////
