#include "core-Renderer\RenderableNode.h"
#include "core\NodeVisitor.h"
#include "core\TNodesVisitor.h"


///////////////////////////////////////////////////////////////////////////////

RenderableNode::RenderableNode(const std::string& name, 
                               Material& material)
      : Node(name),
      m_material(&material)
{
}

///////////////////////////////////////////////////////////////////////////////

RenderableNode::~RenderableNode()
{
}

///////////////////////////////////////////////////////////////////////////////

void RenderableNode::onAccept(NodeVisitor& visitor)
{
   REGISTER_NODE_VISITOR(TNodesVisitor<RenderableNode>);
}

///////////////////////////////////////////////////////////////////////////////

const Material& RenderableNode::getMaterial() const 
{
   return *m_material;
}

///////////////////////////////////////////////////////////////////////////////

Material& RenderableNode::getMaterial() 
{
   return *m_material;
}

///////////////////////////////////////////////////////////////////////////////

void RenderableNode::setMaterial(Material& material)
{
   m_material = &material;
}

///////////////////////////////////////////////////////////////////////////////

const D3DXMATRIX& RenderableNode::getGlobalTransform()
{
   return getGlobalMtx();
}

///////////////////////////////////////////////////////////////////////////////
